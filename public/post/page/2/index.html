<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Posts | Papers</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    <link href="//cdn.bootcss.com/highlight.js/9.12.0/styles/github.min.css" rel="stylesheet">

  </head>

  <body>
    <nav class="header">
      <div class="banner">
<a href="/" class="text">
&Pfr;&Afr;&Pfr;&Efr;&Rfr;&Sfr;
</a>
</div>

      <div class="head-meta">
      
        <span>Posts</span>
        <span>2018-04-09</span>
        
        <span>2 / 3</span>
      
      </div>
    </nav>


<div class="container">
<main class="list">


<section class="article-list">
  <h1><a href="http://www.sciencemag.org/podcast/legendary-viking-crystals-and-how-put-octopus-sleep">Legendary Viking crystals, and how to put an octopus to sleep</a></h1>
  <div class="date-author">
    
    <span class="date">2018-04-05</span>
  </div>
  <div class="summary">
    <a href="/post/2018-04-09-9/">
    
    
    
    
    
      
    
    On this week’s show: Viking seafarers may have navigated with legendary crystals, and how to put an octopus to sleep
    </a>
  </div>
</section>

<section class="article-list">
  <h1><a href="https://yufree.cn/cn/2018/03/31/invisible-religion/">隐形的宗教</a></h1>
  <div class="date-author">
    
    <span class="date">2018-03-31</span>
  </div>
  <div class="summary">
    <a href="/post/2018-04-09-12/">
    
    
    
    
    
      
    
    也许很多人不知道，无神论是世界上多数国家的第二大宗教。这是个挺有意思的视角，各国第一宗教也许各种对立严重，但第二宗教却出奇一致。不过我倒觉得
    </a>
  </div>
</section>

<section class="article-list">
  <h1><a href="https://yihui.name/cn/2018/03/netlify-cms/">Netlify 内容管理系统太厉害了</a></h1>
  <div class="date-author">
    
    <span class="date">2018-03-21</span>
  </div>
  <div class="summary">
    <a href="/post/2018-04-09-13/">
    
    
    
    
    
      
    
    <pre><code>    &lt;p&gt;关于 &lt;a href=&quot;https://www.netlifycms.org&quot;&gt;Netlify 的内容管理系统&lt;/a&gt;（CMS），虽然我早就收到过 Netlify 的邮件，但一直没有细看。直到今天因为工作需要，花了大约半个小时研究了一下，才意识到原来它这么厉害！一句话概括就是，它可以给（任意）静态网站系统提供一个类似 WordPress 后台编辑器的界面，这样你可以在线写日志，不必懂 GIT 或任何具体的静态网站知识。当然，前提是有一个懂技术的人先把这套系统设置好。&lt;/p&gt;
</code></pre>

<p>看来 Netlify 对静态网站是真爱，和我一样。</p>

<p>不过对 R Markdown 用户来说，这套内容管理系统的优势就不是太明显了，因为它里面不能编译 R Markdown 文档（没有 R）。办法也不是没有，比如通过 Travis CI 等服务去编，但我个人<a href="https://bookdown.org/yihui/blogdown/travis-github.html">不是很主张</a>这样做。如果是自己休闲娱乐写写网站或日志，不涉及到运行 R 代码，那么这套系统很值得考虑，它很好地解决了网站用户管理、GIT 中间人、编辑界面这三大问题。用户只需要登录进来直接写日志即可。
    </a>
  </div>
</section>

<section class="article-list">
  <h1><a href="https://yihui.name/cn/2018/03/making-progress/">如何促进自己进步</a></h1>
  <div class="date-author">
    
    <span class="date">2018-03-20</span>
  </div>
  <div class="summary">
    <a href="/post/2018-04-09-16/">
    
    
    
    
    
      
    
    <pre><code>    &lt;p&gt;哈佛商业评论上刊登了一篇文章《&lt;a href=&quot;https://hbr.org/2011/05/the-power-of-small-wins&quot;&gt;小赢的力量&lt;/a&gt;》，点明了一个我十几年前就看清了的人生奥义——所谓的“进展原则”：&lt;/p&gt;
</code></pre>

<blockquote>
<p>Of all the things that can boost emotions, motivation, and perceptions during a workday, the single most important is <em>making progress in meaningful work</em>.</p>
</blockquote>

<p>文中讲，对于知识工作者，高压和大棒策略并不能让他们高效产出，只有在内心愉悦、有正能量的条件下才能更高效地产出。正能量源自哪里呢？作者说是在有意义的工作上取得的进展，哪怕是小进展。这里有两个关键词，一是有意义的工作，二是进展。乔帮主挖人问的那个经典问题“你是想在那边一辈子卖糖水还是过来跟我改变世界”，本质就是在描述有意义的工作。</p>

<p>相应地，对管理者来说，如果想要一个机构有更高效的产出，那么就应该从这两方面入手：一是要让员工感到自己的工作的意义；二是管理进展，而不要管理人（管好进展就足够，对下属可尽量放权，只要他们能持续显示进展）。</p>

<p>很多人觉得自己的人生平淡甚至是平庸，应该就是因为没有找到工作的意义，以及没有养成记录进展的习惯。前者我没什么建议，它有一定的运气成分，万一没撞上有意义的工作，只能要么苦苦找寻一个意义，要么换一份工作。后者我有具体的建议，就是把你做的事情写下来。不要只是睡前躺床上想想，一定要写下来；无论大小事，无论是想法还是实践，一律都写下来。<a href="https://yihui.name/cn/2016/12/student-project/">前年我就说过</a>，在一个人没发迹之前，不妨先写一份简历，然后把人生下一阶段的目标定在更新这份简历上，这便是在积累“进展的感觉”，它会给人进步的动力。对码农来说，每天在 Github 上打卡也是一个办法。初期可以为了进展而进展，到了一定程度就会质变，你自然会变得与众不同，能有几个拿得出手的数字。
    </a>
  </div>
</section>

<section class="article-list">
  <h1><a href="https://yihui.name/en/2018/03/miktex-auto-install/">Let MiKTeX Install Missing LaTeX Packages Automatically</a></h1>
  <div class="date-author">
    
    <span class="date">2018-03-20</span>
  </div>
  <div class="summary">
    <a href="/post/2018-04-09-14/">
    
    
    
    
    
      
    
    <pre><code>    &lt;p&gt;While debugging the &lt;strong&gt;rmarkdown&lt;/strong&gt; issue &lt;a href=&quot;https://github.com/rstudio/rmarkdown/issues/1285&quot;&gt;#1285&lt;/a&gt;, I discovered that MiKTeX might fail to install missing LaTeX packages in certain cases. The default behavior of MiKTeX is to ask you whether you want to install missing LaTeX packages, but it may fail to pop up the dialog box to ask you in the first place. I&amp;rsquo;m still not sure why it could fail (I feel when MiKTeX is installed by the system admin, it may fail to pop up the dialog), but you can change the default setting and let MiKTeX install the missing LaTeX packages without asking. In the MiKTeX Console (you can find it from the Start menu on Windows), choose &amp;ldquo;Always install missing packages on-the-fly&amp;rdquo;:&lt;/p&gt;
</code></pre>

<p><img src="https://user-images.githubusercontent.com/163582/37617602-9e2ffe38-2b81-11e8-9e98-0853a08a4413.png" alt="Always install missing packages on-the-fly" /></p>

<p>From the viewpoint of the developer, it is absolutely the right thing to do to ask users before installing the missing LaTeX packages. However, from the viewpoint of users, I guess 99.99% of users will agree to install the missing packages. What would you do otherwise in this case? Just stare at the screen, let LaTeX fail, and feel the miserable life? I don&rsquo;t think you want to do that. Convenience outweighs the potential risk of letting certain software install (random) packages automatically in this case.</p>

<p><p>The <strong>rmarkdown</strong> bug #1285 once again confirmed that <a href="https://yihui.name/tinytex/">TinyTeX</a> could be a better option than MiKTeX on Windows. Although it was not MiKTeX&rsquo;s fault in this case, MiKTeX&rsquo;s <code>pdflatex</code> fails when called via <code>system2(&lsquo;pdflatex&rsquo;, &lsquo;test.tex&rsquo;, stdout = FALSE)</code> in the R console in RStudio, even though <code>system2(&lsquo;pdflatex&rsquo;, &lsquo;test.tex&rsquo;)</code> succeeds, which is <a href="https://github.com/rstudio/rstudio/issues/2446">a really weird bug</a> that
    </a>
  </div>
</section>

<section class="article-list">
  <h1><a href="https://yihui.name/en/2018/03/talk-driven-development/">The &#34;Talk-Driven Development&#34; Model</a></h1>
  <div class="date-author">
    
    <span class="date">2018-03-20</span>
  </div>
  <div class="summary">
    <a href="/post/2018-04-09-15/">
    
    
    
    
    
      
    
    <pre><code>    &lt;p&gt;Last year at rstudio::conf 2017, I said I used the &amp;ldquo;conference-driven development model&amp;rdquo;. Right before I gave the talk on &lt;strong&gt;blogdown&lt;/strong&gt;, I wrote an RStudio addin to demonstrate in my talk, which later evolved into the &amp;ldquo;New Post&amp;rdquo; addin you see today. I really meant the &amp;ldquo;&lt;a href=&quot;https://twitter.com/JennyBryan/status/970841704625356801&quot;&gt;talk-driven development&lt;/a&gt;&amp;ldquo;: when I&amp;rsquo;m going to give a talk, I&amp;rsquo;ll surely ask myself how I could make better use of the unique chance to show something exciting to the audience.&lt;/p&gt;
</code></pre>

<p>This year, I thought about the same thing before I gave the talk at rstudio::conf, but didn&rsquo;t risk writing new code right before my talk (sigh, I&rsquo;m becoming old and my brain is becoming slow). I mentioned a tiny feature <a href="https://slides.yihui.name/2018-blogdown-rstudio-conf-Yihui-Xie.html#22"><code>options(blogdown.title_case = TRUE)</code></a> in my talk, which was a <strong>blogdown</strong> feature I added two days before the talk. When you set this option, your post title will be converted to title case if the post is created via the &ldquo;New Post&rdquo; addin in RStudio or <code>blogdown::new_post()</code>, thanks to the function <code>tools::toTitleCase()</code>.<sup class="footnote-ref" id="fnref:As-you-all-know"><a rel="footnote" href="#fn:As-you-all-know">1</a></sup></p>

<p>The number of my own blog posts has been skyrocketing after I (pretty much) finished developing the <strong>blogdown</strong> package last year. I write a lot of posts and use title case myself, but I have two pains: (1) Sometimes I&rsquo;m not sure if I should capitalize the initial letter of a word or not; (2) I don&rsquo;t enjoy holding the <code>Shift</code> key to type capitals. I had thought about <code>tools::toTitleCase()</code> but was too lazy to implement it in <strong>blogdown</strong>, and the upcoming talk at the conference was an excellent motivation.</p>

<p><p>It is a v
    </a>
  </div>
</section>

<section class="article-list">
  <h1><a href="https://yihui.name/cn/2018/03/copss-5/">第五届靠谱厮奖：谭显英</a></h1>
  <div class="date-author">
    
    <span class="date">2018-03-19</span>
  </div>
  <div class="summary">
    <a href="/post/2018-04-09-17/">
    
    
    
    
    
      
    
    <pre><code>    &lt;p&gt;距上次靠谱厮奖颁奖典礼已经过去大半年。自&lt;a href=&quot;https://yihui.name/cn/2017/08/copss-4/&quot;&gt;上次颁奖&lt;/a&gt;给戚风蛋糕糕主之后，这大半年里连我这种跟烘焙绝缘的人都从不知道什么是戚风蛋糕到会用电饭锅做戚风蛋糕了（虽然基本上每次都会塌陷得惨不忍睹），可见时间如蛋糕下肚，本来看似一大口，但其实蓬蓬松松的，很快就没了。我脑子里有靠谱厮候选者名单，只须等恰当的时机把他们列出来。&lt;/p&gt;
</code></pre>

<p>过去一周遭遇<a href="https://github.com/rstudio/rmarkdown/issues/1285">一个关于 R Markdown 的极为诡异的八阿哥</a>（bug），显然它是真实存在的，因为好些人都来汇报了这个问题。而我很是抓狂，因为我在 Windows 下怎么也无法重现这个问题。直到今天早上看见谭显英壮士的<a href="https://github.com/yihui/tinytex/issues/28">另一个报告</a>，才终于有了头绪，发现它是只能在 RStudio 的 R 控制台中用命令行方式结合 MiKTeX 才能重现的一个问题。我之前之所以不能重现，一方面是我是通过点 Knit 按钮编译的 R Markdown 文档，另一方面是我测试的是 TinyTeX。这两种方式都不能命中这个<a href="https://github.com/rstudio/rstudio/issues/2446">奇特的八阿哥</a>，必须在安装 MiKTeX 的条件下手敲 <code>rmarkdown::render()</code> 才能出错。多亏显英壮士的提示，我才摸清这个问题的底细。最新版本的 rmarkdown 推荐使用 R 包 tinytex 来编译 PDF，tinytex 有超级牛力，但我心里不是很有底气，因为测试的人还不够多，我总觉得还会有什么问题，果然问题就来了。之前 rmarkdown 是尽量让 Pandoc 调用 LaTeX 去编 PDF；如果文档含有参考文献需要用 natbib 或 biblatex 处理，那么再另外单独调用 LaTeX 去编；tinytex 里面编 PDF 的代码其实是从原来的 rmarkdown 中<a href="https://github.com/rstudio/rmarkdown/commit/00318592d5c1">移植出来的</a>，这个移植过程中作了一些改进，跟原来的代码不完全等价，所以可能会出问题。说到底，就是</p>

<pre><code class="language-r">system2('pdflatex', 'test.tex', stdout = FALSE)
</code></pre>

<p>在 RStudio 中会报错。我用 <code>stdout = FALSE</code> 的原因是为了隐藏 LaTeX 的冗长日志消息；在我的同事的建议下，我在 Windows 下换成了：</p>

<pre><code class="language-r">system2('pdflatex', 'test.tex', stdout = tempfile())
</code></pre>

<p>也就是把标准输出重定向到临时文件中（对标准错误输出 <code>stderr</code> 也一样处理）。这样一样可以达成隐藏控制台输出的效果，只是略微低效一丢丢（写空设备比写文件应该快一丢丢）。</p>

<p>这个问题前后已经快有十个人报告，但只有显英一个人找出了关键问题。（谢）子在川上曰：不亦壮士乎？</p>

<p><p>我今年的前三周时间奉献给了我<a href="https://yihui.name/en/2018/01/back-to-dt/">丢下两年多的 DT 包</a>，主要是扫荡了一大批用户问题，以及修正一些比较容易的八阿哥。在这个艰难的扫荡过程中，我留意到显英大人帮我回答了不少问题，是个热心用户，于是我操起键盘就给他写了一封邀请入坑的邮件。后来他陆续给我带来了<a href="https://github.com/rstudio/DT/pulls?utf8=%E2%9C%93&amp;q=is%3Apr+author%3Ashrektan">八个补丁</a>，比较重要的是实现了在表格中“<a href="https://github.com/rstudio/DT/pull/475">Shift + 点击</a>”连续选择的模式；这也是我上次说的<a href="https://yihui.name/cn/2018/01/logical-xor/">异或问题</a>的
    </a>
  </div>
</section>

<section class="article-list">
  <h1><a href="https://yihui.name/en/2018/03/space-pain/">Don&#39;t Use Spaces or Underscores in File Paths; Use Dashes Instead</a></h1>
  <div class="date-author">
    
    <span class="date">2018-03-15</span>
  </div>
  <div class="summary">
    <a href="/post/2018-04-09-18/">
    
    
    
    
    
      
    
    <pre><code>    &lt;p&gt;Recently I received a few bug reports about the PDF generation in R Markdown. Eventually I figured out one of the reasons: spaces in filenames. For example, in &lt;a href=&quot;https://github.com/rstudio/rmarkdown/issues/1285&quot;&gt;rstudio/rmarkdown#1285&lt;/a&gt;, &lt;code&gt;xelatex&lt;/code&gt; failed to compile the &lt;code&gt;.tex&lt;/code&gt; file because there was a space in a folder name (but &lt;code&gt;pdflatex&lt;/code&gt; succeeded). From this issue, you can also see how many replies it takes to get &lt;a href=&quot;https://yihui.name/en/2017/09/the-minimal-reprex-paradox/&quot;&gt;a reproducible example&lt;/a&gt;.&lt;/p&gt;
</code></pre>

<p>I had been bothered by spaces for long enough before (not only in LaTeX), so I had developed a habit of not using spaces in any of my filenames. When I need to separate words, I always use dashes (<code>-</code>) instead of other characters such as underscores (<code>_</code>) or dots (<code>.</code>). I have no idea why spaces are bad in file paths in LaTeX. In HTML, spaces in file paths are often encoded to <code>%20</code>. In command line, when a path contains spaces, it has to be quoted (e.g., <code>rm &quot;abc def.txt&quot;</code>). For underscores, they are special characters in LaTeX (e.g., in the math mode, an underscore indicates a subscript). By comparison, dashes are much safer everywhere, and they are not special characters in HTML or LaTeX.</p>

<p>For the same reason, I always recommend <strong>knitr</strong> and R Markdown users to use dashes in chunk labels instead of spaces or underscores, e.g., this is good:</p>

<pre><code class="language-markdown">```{r, hello-world, fig.width=8}
```
</code></pre>

<p>These could be bad chunk labels:</p>

<pre><code class="language-markdown">```{r, hello world, fig.width=8}
```

```{r, hello_world, fig.width=8}
```
</code></pre>

<p><p>Chunk labels will be used to name figure files (if any plots are generated in the code chunk), so you have to use more portable characters in the labels. Usually I only use letters a-z, A-Z, numbers 0-9, and dashes.
    </a>
  </div>
</section>

<section class="article-list">
  <h1><a href="https://yihui.name/cn/2018/03/speed/">唯快不破？</a></h1>
  <div class="date-author">
    
    <span class="date">2018-03-14</span>
  </div>
  <div class="summary">
    <a href="/post/2018-04-09-19/">
    
    
    
    
    
      
    
    <pre><code>    &lt;p&gt;湘云在我&lt;a href=&quot;https://yihui.name/cn/2018/01/remove-all-gems/&quot;&gt;前面一篇日志&lt;/a&gt;下留言说 &lt;code&gt;list.files(.libPaths())&lt;/code&gt; 比 &lt;code&gt;.packages(TRUE)&lt;/code&gt; 快。码农界总有比天比地比空气的习俗，比速度更是家常便饭。窃以为在谈速度的时候当考虑下列问题，不要独孤求快：&lt;/p&gt;
</code></pre>

<ol>
<li><p>二者做的是同一件事吗？很多时候速度慢不是因为代码实现太低效，而是要照顾严谨性。看一下 <code>.packages()</code> 函数的源代码（并不长）就知道为什么它慢一些了。如果这里的严谨性不是我们需要的（换句话说，你可以承担不严谨的风险），那么你可以解开安全带自由飙车。</p></li>

<li><p>快多少？通常码农喜欢看倍数，但倍数只是一方面；另一方面是绝对值。如果一个是 1 毫秒，另一个是 10 毫秒，而且又只需要运行一次，那我觉得不值得操这 9 毫秒的心，9 毫秒连眨一下眼都来不及。当然不只是码农，宣传工具里也常用这个伎俩，比如吃某种食物会让你患癌的概率增加一百倍，这种话听起来让人毛骨悚然（或是反过来，某种食物让某癌症几率降低十倍），但就是不说从多少增加到多少，要是五百亿分之一到五亿分之一，虽是百倍，貌似也没什么值得操心的。</p></li>
</ol>

<p>最早的时候我开高速喜欢超速，当然不会超很多，只是比限速多五迈十迈的样子。后来有一天开车的时候一想，限速 70 迈，就算我一路开 80 迈，其实到头来也省不了几分钟时间。就算省这几分钟，下了高速要是路上碰上两个红灯，或者在中途休息站里上个厕所伸个懒腰，这时间马上就回来了。超这 10 迈不仅难以省时间，而且还面临吃罚单的高风险，实在不划算。于是在没什么急事的时候就老老实实开，如果有开的稍快的车超了我（不是飙车的那种），我就跟他屁股后面开一会儿，反正打死不做领头羊。</p>

<p>写代码跟开车一样，不要只求快而不系安全带，也要想想超速究竟能省多少时间。我并不是说一定要时刻系好安全带，我自己很多时候也写不严谨的代码，但我通常已考虑过损失并且认为损失可承受才那样写。
    </a>
  </div>
</section>

</main>
<nav>

<ul class="pagination">
    
    <li>
        <a href="/post/" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
    </li>
    
    <li
    >
    <a href="/post/" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
    </li>
    
    
    
    
    
     
        
        
    
    
    <li
    ><a href="/post/">1</a></li>
    
    
    
    
    
     
        
        
    
    
    <li
    class="active"><a href="/post/page/2/">2</a></li>
    
    
    
    
    
     
        
        
    
    
    <li
    ><a href="/post/page/3/">3</a></li>
    
    
    <li
    >
    <a href="/post/page/3/" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
    </li>
    
    <li>
        <a href="/post/page/3/" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
    </li>
    
</ul>
</nav>
</div>

<script async src="//yihui.name/js/center-img.js"></script>

<footer>

<div class="footer">
  <ul class="menu">
    
    <li><a href="/"><span data-hover="Home">Home</span></a></li>
    
    <li><a href="/about/"><span data-hover="About">About</span></a></li>
    
  </ul>
  
  <div class="copyright">&copy; <a href="http://biodong.com">Dong</a> 2018</div>
  
</div>
</footer>






<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-74383918-1', 'auto');
ga('send', 'pageview');
</script>


</body>
</html>

